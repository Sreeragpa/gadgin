<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

	<link rel="stylesheet" href="/stylesheet/admindash.css">



	<title>Admin GADGIN</title>
</head>

<body>


	<!-- SIDEBAR -->
	<section id="sidebar" class="sidebar">
		<a href="#" class="brand">
			<i></i>
			<span class="text text-black m-4"><svg width="148" height="15" viewBox="0 0 148 15" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<path
						d="M9.199 8.987L7.984 5.396C7.894 5.168 7.798 4.901 7.696 4.595C7.594 4.283 7.492 3.947 7.39 3.587C7.3 3.953 7.204 4.292 7.102 4.604C7 4.916 6.904 5.186 6.814 5.414L5.608 8.987H9.199ZM14.032 14H11.674C11.41 14 11.197 13.94 11.035 13.82C10.873 13.694 10.75 13.535 10.666 13.343L9.892 11.057H4.906L4.132 13.343C4.066 13.511 3.946 13.664 3.772 13.802C3.604 13.934 3.394 14 3.142 14H0.766L5.842 0.887H8.956L14.032 14ZM26.9639 7.439C26.9639 8.387 26.7989 9.263 26.4689 10.067C26.1449 10.865 25.6859 11.558 25.0919 12.146C24.4979 12.728 23.7809 13.184 22.9409 13.514C22.1069 13.838 21.1799 14 20.1599 14H15.0659V0.887H20.1599C21.1799 0.887 22.1069 1.052 22.9409 1.382C23.7809 1.712 24.4979 2.168 25.0919 2.75C25.6859 3.332 26.1449 4.025 26.4689 4.829C26.7989 5.627 26.9639 6.497 26.9639 7.439ZM23.8499 7.439C23.8499 6.791 23.7659 6.206 23.5979 5.684C23.4299 5.162 23.1869 4.721 22.8689 4.361C22.5569 3.995 22.1729 3.716 21.7169 3.524C21.2609 3.326 20.7419 3.227 20.1599 3.227H18.1259V11.66H20.1599C20.7419 11.66 21.2609 11.564 21.7169 11.372C22.1729 11.174 22.5569 10.895 22.8689 10.535C23.1869 10.169 23.4299 9.725 23.5979 9.203C23.7659 8.681 23.8499 8.093 23.8499 7.439ZM43.5012 0.887V14H40.8192V6.458C40.8192 6.284 40.8222 6.095 40.8282 5.891C40.8402 5.687 40.8582 5.48 40.8822 5.27L37.3992 12.011C37.2912 12.221 37.1442 12.38 36.9582 12.488C36.7782 12.596 36.5712 12.65 36.3372 12.65H35.9232C35.6892 12.65 35.4792 12.596 35.2932 12.488C35.1132 12.38 34.9692 12.221 34.8612 12.011L31.3782 5.252C31.3962 5.468 31.4112 5.681 31.4232 5.891C31.4352 6.095 31.4412 6.284 31.4412 6.458V14H28.7592V0.887H31.0812C31.2132 0.887 31.3272 0.89 31.4232 0.895999C31.5252 0.901999 31.6152 0.92 31.6932 0.95C31.7712 0.98 31.8402 1.028 31.9002 1.094C31.9662 1.154 32.0292 1.241 32.0892 1.355L35.4642 8.006C35.5842 8.234 35.6982 8.471 35.8062 8.717C35.9202 8.963 36.0282 9.215 36.1302 9.473C36.2322 9.209 36.3372 8.951 36.4452 8.699C36.5592 8.447 36.6792 8.207 36.8052 7.979L40.1712 1.355C40.2312 1.241 40.2912 1.154 40.3512 1.094C40.4172 1.028 40.4892 0.98 40.5672 0.95C40.6452 0.92 40.7322 0.901999 40.8282 0.895999C40.9302 0.89 41.0472 0.887 41.1792 0.887H43.5012ZM49.0985 14H46.0385V0.887H49.0985V14ZM63.0764 0.887V14H61.4924C61.2584 14 61.0604 13.964 60.8984 13.892C60.7424 13.814 60.5864 13.682 60.4304 13.496L54.2474 5.675C54.2714 5.909 54.2864 6.137 54.2924 6.359C54.3044 6.575 54.3104 6.779 54.3104 6.971V14H51.6284V0.887H53.2304C53.3624 0.887 53.4734 0.893 53.5634 0.905C53.6534 0.916999 53.7344 0.941 53.8064 0.977C53.8784 1.007 53.9474 1.052 54.0134 1.112C54.0794 1.172 54.1544 1.253 54.2384 1.355L60.4754 9.23C60.4454 8.978 60.4244 8.735 60.4124 8.501C60.4004 8.261 60.3944 8.036 60.3944 7.826V0.887H63.0764ZM80.2526 7.205H84.9146V12.74C84.2426 13.232 83.5256 13.589 82.7636 13.811C82.0076 14.033 81.2156 14.144 80.3876 14.144C79.3076 14.144 78.3236 13.976 77.4356 13.64C76.5536 13.298 75.7976 12.83 75.1676 12.236C74.5376 11.636 74.0516 10.928 73.7096 10.112C73.3676 9.29 73.1966 8.399 73.1966 7.439C73.1966 6.461 73.3586 5.564 73.6826 4.748C74.0066 3.926 74.4686 3.218 75.0686 2.624C75.6746 2.03 76.4036 1.568 77.2556 1.238C78.1136 0.907999 79.0706 0.743 80.1266 0.743C80.6726 0.743 81.1856 0.788 81.6656 0.877999C82.1456 0.967999 82.5866 1.091 82.9886 1.247C83.3966 1.403 83.7686 1.589 84.1046 1.805C84.4406 2.021 84.7406 2.255 85.0046 2.507L84.1226 3.848C83.9846 4.058 83.8046 4.187 83.5826 4.235C83.3666 4.283 83.1326 4.229 82.8806 4.073C82.6406 3.929 82.4126 3.806 82.1966 3.704C81.9866 3.596 81.7706 3.509 81.5486 3.443C81.3266 3.377 81.0926 3.329 80.8466 3.299C80.6006 3.269 80.3246 3.254 80.0186 3.254C79.4486 3.254 78.9356 3.356 78.4796 3.56C78.0236 3.758 77.6336 4.04 77.3096 4.406C76.9916 4.772 76.7456 5.213 76.5716 5.729C76.3976 6.239 76.3106 6.809 76.3106 7.439C76.3106 8.135 76.4066 8.753 76.5986 9.293C76.7906 9.833 77.0606 10.289 77.4086 10.661C77.7626 11.033 78.1826 11.318 78.6686 11.516C79.1606 11.708 79.7036 11.804 80.2976 11.804C80.6636 11.804 80.9936 11.768 81.2876 11.696C81.5876 11.624 81.8786 11.528 82.1606 11.408V9.419H80.8646C80.6726 9.419 80.5226 9.368 80.4146 9.266C80.3066 9.164 80.2526 9.035 80.2526 8.879V7.205ZM93.697 8.987L92.482 5.396C92.392 5.168 92.296 4.901 92.194 4.595C92.092 4.283 91.99 3.947 91.888 3.587C91.798 3.953 91.702 4.292 91.6 4.604C91.498 4.916 91.402 5.186 91.312 5.414L90.106 8.987H93.697ZM98.53 14H96.172C95.908 14 95.695 13.94 95.533 13.82C95.371 13.694 95.248 13.535 95.164 13.343L94.39 11.057H89.404L88.63 13.343C88.564 13.511 88.444 13.664 88.27 13.802C88.102 13.934 87.892 14 87.64 14H85.264L90.34 0.887H93.454L98.53 14ZM111.462 7.439C111.462 8.387 111.297 9.263 110.967 10.067C110.643 10.865 110.184 11.558 109.59 12.146C108.996 12.728 108.279 13.184 107.439 13.514C106.605 13.838 105.678 14 104.658 14H99.5639V0.887H104.658C105.678 0.887 106.605 1.052 107.439 1.382C108.279 1.712 108.996 2.168 109.59 2.75C110.184 3.332 110.643 4.025 110.967 4.829C111.297 5.627 111.462 6.497 111.462 7.439ZM108.348 7.439C108.348 6.791 108.264 6.206 108.096 5.684C107.928 5.162 107.685 4.721 107.367 4.361C107.055 3.995 106.671 3.716 106.215 3.524C105.759 3.326 105.24 3.227 104.658 3.227H102.624V11.66H104.658C105.24 11.66 105.759 11.564 106.215 11.372C106.671 11.174 107.055 10.895 107.367 10.535C107.685 10.169 107.928 9.725 108.096 9.203C108.264 8.681 108.348 8.093 108.348 7.439ZM119.557 7.205H124.219V12.74C123.547 13.232 122.83 13.589 122.068 13.811C121.312 14.033 120.52 14.144 119.692 14.144C118.612 14.144 117.628 13.976 116.74 13.64C115.858 13.298 115.102 12.83 114.472 12.236C113.842 11.636 113.356 10.928 113.014 10.112C112.672 9.29 112.501 8.399 112.501 7.439C112.501 6.461 112.663 5.564 112.987 4.748C113.311 3.926 113.773 3.218 114.373 2.624C114.979 2.03 115.708 1.568 116.56 1.238C117.418 0.907999 118.375 0.743 119.431 0.743C119.977 0.743 120.49 0.788 120.97 0.877999C121.45 0.967999 121.891 1.091 122.293 1.247C122.701 1.403 123.073 1.589 123.409 1.805C123.745 2.021 124.045 2.255 124.309 2.507L123.427 3.848C123.289 4.058 123.109 4.187 122.887 4.235C122.671 4.283 122.437 4.229 122.185 4.073C121.945 3.929 121.717 3.806 121.501 3.704C121.291 3.596 121.075 3.509 120.853 3.443C120.631 3.377 120.397 3.329 120.151 3.299C119.905 3.269 119.629 3.254 119.323 3.254C118.753 3.254 118.24 3.356 117.784 3.56C117.328 3.758 116.938 4.04 116.614 4.406C116.296 4.772 116.05 5.213 115.876 5.729C115.702 6.239 115.615 6.809 115.615 7.439C115.615 8.135 115.711 8.753 115.903 9.293C116.095 9.833 116.365 10.289 116.713 10.661C117.067 11.033 117.487 11.318 117.973 11.516C118.465 11.708 119.008 11.804 119.602 11.804C119.968 11.804 120.298 11.768 120.592 11.696C120.892 11.624 121.183 11.528 121.465 11.408V9.419H120.169C119.977 9.419 119.827 9.368 119.719 9.266C119.611 9.164 119.557 9.035 119.557 8.879V7.205ZM125.563 12.587C125.563 12.371 125.602 12.17 125.68 11.984C125.764 11.798 125.875 11.636 126.013 11.498C126.157 11.36 126.325 11.252 126.517 11.174C126.709 11.09 126.919 11.048 127.147 11.048C127.369 11.048 127.576 11.09 127.768 11.174C127.96 11.252 128.128 11.36 128.272 11.498C128.416 11.636 128.527 11.798 128.605 11.984C128.689 12.17 128.731 12.371 128.731 12.587C128.731 12.803 128.689 13.007 128.605 13.199C128.527 13.385 128.416 13.547 128.272 13.685C128.128 13.823 127.96 13.931 127.768 14.009C127.576 14.087 127.369 14.126 127.147 14.126C126.919 14.126 126.709 14.087 126.517 14.009C126.325 13.931 126.157 13.823 126.013 13.685C125.875 13.547 125.764 13.385 125.68 13.199C125.602 13.007 125.563 12.803 125.563 12.587ZM133.632 14H130.572V0.887H133.632V14ZM147.61 0.887V14H146.026C145.792 14 145.594 13.964 145.432 13.892C145.276 13.814 145.12 13.682 144.964 13.496L138.781 5.675C138.805 5.909 138.82 6.137 138.826 6.359C138.838 6.575 138.844 6.779 138.844 6.971V14H136.162V0.887H137.764C137.896 0.887 138.007 0.893 138.097 0.905C138.187 0.916999 138.268 0.941 138.34 0.977C138.412 1.007 138.481 1.052 138.547 1.112C138.613 1.172 138.688 1.253 138.772 1.355L145.009 9.23C144.979 8.978 144.958 8.735 144.946 8.501C144.934 8.261 144.928 8.036 144.928 7.826V0.887H147.61Z"
						fill="black" />
				</svg>
			</span>
		</a>
		<ul class="side-menu top">
			<li class="">
				<a href="/admin">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="/admin/productmgmt">
					<i class='bx bxs-shopping-bag-alt'></i>
					<span class="text">Product Management</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-user'></i>
					<span class="text">User Management</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-book-reader'></i>
					<span class="text">Order Management</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-coupon'></i>
					<span class="text">Coupon Management</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu2 ">
			<!-- <li>
				<a href="#">
					<i class='bx bxs-cog' ></i>
					<span class="text">Settings</span>
				</a>
			</li> -->
			<li>
				<a href="/logout" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->

		<!-- NAVBAR -->

		<!-- MAIN -->
		<main id="main-content">
			<div class="head-title">
				<div class="left">
					<h1>Product Management</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right'></i></li>
						<li>
							<a class="" href="#">Product Management</a>
						</li>
						<li><i class='bx bx-chevron-right'></i></li>
						<li>
							<a class="active" href="#">Edit Product</a>
						</li>
					</ul>
				</div>
				<!-- <a href="#" class="btn-download">
					<i class='bx bxs-cloud-download' ></i>
					<span class="text">Download PDF</span>
				</a> -->
			</div>
			<div class="contents">
				<!-- <div class="contents-head">
					<div class="d-flex gap-2">
						<div>
							<form action="#">
								<div class="form-input">
									<button type="submit" class="search-btn submitt-btn text-bg-dark">Add
										Product</button>
								</div>
							</form>
						</div>
						<div>
							<form action="#">
								<div class="form-input">
									<button type="submit" class="search-btn submitt-btn text-bg-dark">Add
										Category</button>
								</div>
							</form>
						</div>
					</div>

					<div>
						<form action="#">
							<div class="form-input">
								<input type="search" placeholder="Search...">
								<button type="submit" class="search-btn text-bg-dark px-2"><i
										class='bx bx-search'></i></button>
							</div>
						</form>
					</div>
				</div> -->
				<div class="content-list d-flex jus">
					<!-- item -->
					<form action="/api/editproducts/<%=product._id%>" method="post" enctype="multipart/form-data"
						id="pdt-form">
						<div class="d-flex gap-5 addproduct-form mt-3">
							<div class="d-flex flex-column">
								<label for="name">Product Name</label>
								<input type="text" name="name" required class="product-name-input"
									value="<%=product.name%>">
							</div>

							<div class="d-flex flex-column">
								<label for="name">Category</label>
								<!-- <input type="d" name="category" required class="w-auto"> -->
								<select id="categDropdown" name="category" required>
									<% for(let i=0;i<categories.length;i++){%>
										<option value="<%=categories[i].categoryName%>">
											<%=categories[i].categoryName%>
										</option>
										<% }%>
								</select>
							</div>

						</div>
						<div class="d-flex gap-5 addproduct-form mt-3">
							<div class="d-flex flex-column">
								<label for="description">Product Description</label>
								<input type="text" name="description" required class="product-description-input"
									value="<%=product.description%>">
							</div>
						</div>
						<div class="d-flex gap-5 addproduct-form mt-3">
							<div class="d-flex flex-column">
								<label for="model">Product Brand</label>
								<input type="text" name="brand" required class="product-name-input"
									value="<%=product.brand%>">
							</div>
							<div class="d-flex flex-column">
								<label for="price">MRP</label>
								<input type="number" name="mrp" required class="w-auto" id="mrp"
									value="<%=product.mrp%>">
							</div>
							<div class="d-flex flex-column">
								<label for="price">Selling Price</label>
								<input type="number" name="price" required class="w-auto" id="price"
									value="<%=product.price%>">
							</div>
						</div>
						<div class="d-flex gap-5 addproduct-form mt-3">
							<div class="d-flex flex-column">
								<label for="color">Color</label>
								<input type="text" name="color" required class="product-name-input"
									value="<%=product.color%>">
							</div>
							<div class="d-flex flex-column">
								<label for="price">Quantity</label>
								<input type="number" name="quantity" required class="w-auto" id="quantity"
									value="<%=product.quantity%>">
							</div>
							<div class="d-flex flex-column">
								<label for="discount">Discount</label>
								<input type="number" name="discount" required class="w-auto" placeholder="%"
									value="<%=product.discount%>" id="discount" readonly>
							</div>
						</div>
						<div class="d-flex gap-5 addproduct-form mt-3">
							<div class="d-flex flex-column">
								<label for="color">Product Images:</label>
								<input type="file" name="images" multiple class="product-name-input" id="img-input">
								<span id="image-error" class="text-danger"></span>
							</div>


						</div>
						<div class="d-flex align-items-center justify-content-center mt-3">
							<button type="submit" class="search-btn submitt-btn text-bg-dark">Edit
								Product</button>
						</div>
					</form>

					
					

					

					<!-- /item -->
				</div>
				<div class="">
					<input type="text" name="" id="img-length" class="d-none" data-imglength="<%=product.images.length%>" >
					<div class="d-flex db-img mt-5">
						<% for(let i=0;i<product.images.length;i++){%>
							<div class="preview-img-div">
								<form action="/api/deleteimage?pid=<%=product._id%>&index=<%=i%>" method="post">
									<img class="img-fluid preview-img" src="<%=product.images[i]%>"/>
									<button class="text-white text-bg-danger p-1 close-btnn" type="submit" data-imgindex="<%=i%>">&times;</button>
								</form>
							</div>
							<%}%>


					</div>
					<div class=" d-flex mt-5" id="imageContainer">

					</div>
				</div>

			</div>



		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->
	<!-- <script src="/js/addproductform.js"></script> -->
	<script src="/js/editproductimagehandler.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
	<!-- <script src="/js/admindashscript.js"></script> -->
	<!-- <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI/tZlKXNHaaD6B6sWJeQG3UE6z5wEiZ3lFO8NwI=" crossorigin="anonymous"></script> -->


</body>

</html>